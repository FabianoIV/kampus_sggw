<h1>Wykładowcy</h1>

<a class="btn btn-success" style="margin-top: 20px; margin-bottom: 20px;" href="/lecturers/create">Nowy Wykładowca</a>

<form>
  <div class="mb-3 row">
    <label for="table-complete-search" class="col-xs-3 col-sm-auto col-form-label">Wyszukiwanie:</label>
    <div class="col-xs-3 col-sm-auto">
      <input id="table-complete-search"
             type="text"
             class="form-control"
             name="searchTerm"
             [(ngModel)]="lecturerService.searchTerm" />
    </div>
    <span class="col col-form-label" *ngIf="lecturerService.loading$ | async">Loading...</span>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <!--<th scope="col">Id</th>-->
        <th scope="col" sortable="academicDegree" (sort)="onSort($event)">Degree</th>
        <th scope="col" sortable="firstName" (sort)="onSort($event)">First Name</th>
        <th scope="col" sortable="surname" (sort)="onSort($event)">Surname</th>
        <th scope="col" sortable="email" (sort)="onSort($event)">Email</th>
        <th scope="col"></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let lecturer of lecturers$ | async">
        <!--<td scope="row">{{ lecturer.id }}</td>-->
        <td scope="row" sortable="academicDegree" (sort)="onSort($any($event))">{{ lecturer.academicDegree }}</td>
        <td scope="row" sortable="firstName" (sort)="onSort($any($event))">{{ lecturer.firstName }}</td>
        <td scope="row" sortable="surname" (sort)="onSort($any($event))">{{ lecturer.surname }}</td>
        <td scope="row" sortable="email" (sort)="onSort($any($event))">{{ lecturer.email }}</td>
        <td scope="row" width="50px">
          <div class="btn-group">
            <button class="btn btn-success">Edytuj</button>
            <button class="btn btn-danger">Usuń</button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="d-flex justify-content-between p-2">
    <ngb-pagination [collectionSize]="(total$ | async)!" [(page)]="lecturerService.page" [pageSize]="lecturerService.pageSize">
    </ngb-pagination>

    <select class="form-select" style="width: auto" name="pageSize" [(ngModel)]="lecturerService.pageSize">
      <option [ngValue]="10">10 per page</option>
      <option [ngValue]="25">25 per page</option>
      <option [ngValue]="50">50 per page</option>
      <option [ngValue]="100">100 per page</option>
    </select>
  </div>
</form>
